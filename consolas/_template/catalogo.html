<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Cat√°logo de juegos | GameTechSolutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" href="/assets/img/favicon.png" />
    <link rel="stylesheet" href="/styles/theme-base.css" />
    <link rel="stylesheet" id="themeStylesheet" />
  </head>
  <body>
    <div id="header-container"></div>

    <script>
      // üîë Recuperar config de la consola
      const storedConfig = sessionStorage.getItem("GTS_CONSOLE_CONFIG");

      if (!storedConfig) {
        alert("No se detect√≥ la configuraci√≥n de la consola.");
        window.location.href = "/";
      } else {
        window.CONSOLE_CONFIG = JSON.parse(storedConfig);
      }
    </script>

    <main>
      <div class="container">
        <!-- INTRO -->
        <section>
          <h2>¬øC√≥mo funciona el cat√°logo?</h2>
          <p>
            Desde aqu√≠ puedes consultar los juegos disponibles para
            <strong class="consoleFull"></strong>.
          </p>
          <p>
            La cantidad final de juegos instalados depende del tama√±o del
            almacenamiento y del peso de cada t√≠tulo.
          </p>
        </section>

        <!-- NOTAS -->
        <section>
          <h2>Notas importantes</h2>
          <div class="cards-grid">
            <div class="card">
              <h3>üíæ Espacio disponible</h3>
              <p>No todos los juegos caben en todos los discos.</p>
            </div>
            <div class="card">
              <h3>‚ö†Ô∏è Compatibilidad</h3>
              <p>Algunos t√≠tulos pueden requerir configuraciones especiales.</p>
            </div>
            <div class="card">
              <h3>üõ°Ô∏è Garant√≠a</h3>
              <p>Los juegos instalados cuentan con garant√≠a de 30 d√≠as.</p>
            </div>
          </div>
        </section>

        <!-- TOP JUEGOS (OPCIONAL) -->
        <section id="topGamesSection" style="display: none">
          <h2>Juegos m√°s populares</h2>
          <div class="cards-grid" id="topGamesGrid"></div>
        </section>

        <!-- STORAGE -->
        <section>
          <h2>Almacenamiento seleccionado</h2>
          <div class="storage-display" id="storageDisplay"></div>
        </section>

        <!-- SELECTOR -->
        <section>
          <h2>Selector de juegos</h2>

          <div class="selector-layout selector-app">
            <div class="selector-catalog selector-panel">
              <h3>Cat√°logo</h3>

              <!-- üîé Search bar -->
              <div class="catalog-toolbar">
                <input
                  id="catalogSearch"
                  type="text"
                  placeholder="Buscar juego..."
                />
                <button class="btn-small" id="clearSearch">Limpiar</button>
              </div>

              <!-- üî§ Navegador A-Z (aqu√≠ debe salir) -->
              <div id="catalogLetters" class="catalog-letters"></div>

              <!-- ‚úÖ LISTA SCROLLEABLE (aqu√≠ va virtual scroll) -->
              <div class="catalog-list"></div>
            </div>

            <div class="selector-summary selector-panel">
              <h3>Mi selecci√≥n</h3>

              <p>üéÆ Juegos seleccionados: <strong id="gameCount">0</strong></p>
              <p>üíæ Espacio estimado: <strong id="totalSize">0</strong> GB</p>
              <p class="selector-note" id="recommendedGames"></p>

              <div class="selection-actions">
                <button class="btn-small" id="saveSelection">
                  Guardar selecci√≥n
                </button>
                <button class="btn-small" id="removeLast">Quitar √∫ltimo</button>
                <button class="btn-small danger" id="clearAll">
                  Vaciar selecci√≥n
                </button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- FOOTER FIJO -->
    <footer class="site-footer">
      <div class="footer-inner">
        <p class="footer-brand"><strong>GameTechSolutions</strong> ¬© 2026</p>
      </div>
    </footer>

    <script>
      // ‚õî ESTE OBJETO DEBE EXISTIR ANTES DE catalogo-base.js
      if (!window.CONSOLE_CONFIG) {
        alert("CONSOLE_CONFIG no definido. Acceso inv√°lido al cat√°logo.");
        window.location.href = "/";
      }
    </script>

    <script src="/assets/js/context.js"></script>
    <script src="/assets/js/header.js"></script>
    <script src="/assets/js/catalogo-base.js"></script>

    <script src="/assets/js/catalogo-ui.js"></script>
  </body>
</html>
